<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>홈 - LLM Chat</title>
        <link rel="stylesheet" href="./style.css" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap"
            rel="stylesheet"
        />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    </head>
    <body class="home-page">
        <nav class="main-nav">
            <div class="nav-content">
                <div class="nav-left">
                    <h1>LLM Chat</h1>
                </div>
                <div class="nav-right">
                    <span id="user-nickname">사용자</span>
                    <button id="logout-button" class="nav-button"><i class="fas fa-sign-out-alt"></i> 로그아웃</button>
                </div>
            </div>
        </nav>
        <main class="home-content">
            <section class="welcome-section">
                <h2><i class="fas fa-hard-hat"></i> 공사중</h2>
                <p>더 나은 서비스를 위해 준비중입니다.</p>
                <div class="construction-notice">
                    <i class="fas fa-exclamation-triangle"></i>
                    <p>현재 서비스의 구체적인 내용을 기획하고 있습니다.</p>
                    <p>조금만 기다려주시면 곧 멋진 모습으로 찾아뵙겠습니다!</p>
                </div>
            </section>
            <section class="action-section">
                <a href="/chat" class="start-chat-button"> <i class="fas fa-flask"></i> 베타 버전 체험하기 </a>
            </section>
        </main>
        <script type="module">
            import { checkLoginStatus, getUserInfo, logout } from './js/auth_utils.js';

            // 페이지 초기화
            async function init() {
                // 로그인 체크
                const needLogin = await checkLoginStatus();
                if (needLogin) return;

                // 사용자 정보 표시
                const userInfo = await getUserInfo();
                if (userInfo) {
                    document.getElementById('user-nickname').textContent = userInfo.nickname;
                }
            }

            // 로그아웃 버튼 이벤트 리스너
            document.getElementById('logout-button').addEventListener('click', logout);

            // 페이지 로드 시 초기화
            init();
        </script>
    </body>
</html>
